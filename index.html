<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contador de Tempo</title>
    <script>
        function iniciarContador() {
            document.getElementById("telaInicial").style.opacity = "0";
            setTimeout(() => {
                document.getElementById("telaInicial").style.display = "none";
                document.getElementById("contadorPagina").style.display = "block";
                document.getElementById("contadorPagina").style.opacity = "1";
                atualizarContador();
                setInterval(atualizarContador, 1000);
            }, 300);
        }
        
        function atualizarContador() {
            const dataInicio = new Date("2024-12-07T00:00:00");
            const agora = new Date();
            let diferenca = Math.floor((agora - dataInicio) / 1000);
            
            const anos = Math.floor(diferenca / (365 * 24 * 60 * 60));
            diferenca %= 365 * 24 * 60 * 60;
            const meses = Math.floor(diferenca / (30 * 24 * 60 * 60));
            diferenca %= 30 * 24 * 60 * 60;
            const semanas = Math.floor(diferenca / (7 * 24 * 60 * 60));
            diferenca %= 7 * 24 * 60 * 60;
            const dias = Math.floor(diferenca / (24 * 60 * 60));
            diferenca %= 24 * 60 * 60;
            const horas = Math.floor(diferenca / (60 * 60));
            diferenca %= 60 * 60;
            const minutos = Math.floor(diferenca / 60);
            const segundos = diferenca % 60;
            
            document.getElementById("contador").innerText = 
                `${anos} anos, ${meses} meses, ${semanas} semanas, ${dias} dias, ${horas} horas, ${minutos} minutos, ${segundos} segundos.`;
        }

        function escreverTextoComEfeito(elementId, texto, velocidade) {
            let i = 0;
            const elemento = document.getElementById(elementId);
            elemento.innerHTML = "";
            function escrever() {
                if (i < texto.length) {
                    elemento.innerHTML += texto.charAt(i);
                    i++;
                    setTimeout(escrever, velocidade);
                } else {
                    // Após a digitação do texto, mostramos a imagem com fade-in
                    mostrarImagemComFadeIn();
                }
            }
            escrever();
        }

        function mostrarImagemComFadeIn() {
            const imagem = document.getElementById("imagemFinal");
            imagem.style.display = "block";
            let opacidade = 0;
            const intervalo = setInterval(() => {
                if (opacidade < 1) {
                    opacidade += 0.05;
                    imagem.style.opacity = opacidade;
                } else {
                    clearInterval(intervalo);
                }
            }, 50); // Ajuste a velocidade da transição conforme necessário
        }
        
        document.addEventListener("DOMContentLoaded", () => {
            const canvas = document.getElementById("starsCanvas");
            const ctx = canvas.getContext("2d");
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            let hearts = [];
            for (let i = 0; i < 80; i++) {
                hearts.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 3 + 1,
                    speed: Math.random() * 0.5 + 0.2
                });
            }

            function drawHeart(x, y, size) {
                ctx.fillStyle = "#8a2be2";
                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.bezierCurveTo(x - size, y - size, x - size * 2, y + size, x, y + size * 2);
                ctx.bezierCurveTo(x + size * 2, y + size, x + size, y - size, x, y);
                ctx.fill();
            }

            function animateHearts() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                hearts.forEach(heart => {
                    drawHeart(heart.x, heart.y, heart.size);
                    heart.y += heart.speed;
                    if (heart.y > canvas.height) heart.y = 0;
                });
                requestAnimationFrame(animateHearts);
            }
            animateHearts();
        });
    </script>
    <style>
        body { 
            text-align: center; 
            font-family: Arial, sans-serif; 
            margin: 0;
            overflow-y: auto; /* Permitir rolagem */
            background-color: black;
            color: white;
        }
        #contadorPagina { 
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
            padding-bottom: 20px;
            text-align: center;
        }
        #starsCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
        }
        #telaInicial {
            position: fixed; /* Deixando a tela inicial fixa no centro */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: opacity 0.3s ease-in-out;
        }
        button {
            padding: 15px 30px;
            font-size: 20px;
            cursor: pointer;
            border: none;
            background-color: #8a2be2;
            color: white;
            font-weight: bold;
            border-radius: 10px;
            transition: background-color 0.3s ease-in-out;
        }
        button:hover {
            background-color: #6a1bb9;
        }
        button:active {
            background-color: #4a0e85;
        }
        #fotoEspaco {
            margin-top: 20px;
            margin-bottom: 20px;
            width: 30%;
            max-width: 600px;
            height: auto;
            border-radius: 10px;
        }
        #mensagem {
            color: white;
            font-size: 18px;
            margin-top: 20px;
            text-align: center;
            width: 80%;
            margin-left: 10%;
            margin-right: 10%;
            margin-bottom: 20px;
        }
        #imagemFinal {
            display: none;
            margin-top: 20px;
            opacity: 0;
            transition: opacity 2s ease-in-out; /* Opacidade gradual */
            width: 30%; /* Tamanho ajustado para ser igual à primeira imagem */
            max-width: 600px;
            height: auto;
            border-radius: 10px;
            margin: 0 auto; /* Centralizando a imagem */
        }
    </style>
</head>
<body>
    <canvas id="starsCanvas"></canvas>
    <div id="telaInicial">
        <button onclick="iniciarContador()">CLIQUE AQUI</button>
    </div>
    <div id="contadorPagina">
        <img id="fotoEspaco" src="images/foto-principal.jpg" alt="Sua Foto Aqui">
        <p id="contador">Carregando...</p>
        <button onclick="escreverTextoComEfeito('mensagem', 'Lembra desse dia? Se não me engano, foi num domingo, que você veio direto do trabalho me encontrar na rua, fomos no mercado e logo depois pra casa. Tomamos banho juntos e fizemos muito sexo, logo depois fomos comer fora. Até agora acho que é a nossa foto (ou pelo menos a sua) preferida.', 100)">CLIQUE AQUI</button>
        <div id="mensagem"></div>
        <img id="imagemFinal" src="images/primeirafoto-zoada.jpg" alt="Imagem Final">
    </div>
</body>
</html>
